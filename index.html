<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Click & Go – เปรียบเทียบราคาโรงแรม จองง่ายในคลิกเดียว</title>
  <meta name="description" content="Click & Go ช่วยค้นหาและเปรียบเทียบราคาโรงแรมจากหลาย OTA พร้อมลิงก์ไปจองทันที ครอบคลุมปลายทางยอดนิยมทั้งในไทยและต่างประเทศ" />
  <link rel="canonical" href="https://click-and-go-navy.vercel.app/" />
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="style.css">
  <!-- GA4 (คงเดิม) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-1QR2EGFWN3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date()); gtag('config', 'G-1QR2EGFWN3');
  </script>
</head>
<body>
  <!-- โหลดส่วนหัวจากไฟล์ include -->
  <div id="header"></div>

  <!-- Hero -->
  <section class="hero" aria-label="ภาพโปรโมต">
    <div class="hero-img" role="img" aria-label="Click & Go Thailand"></div>
  </section>

  <main class="container">
    <!-- ค้นหาโรงแรม -->
    <section class="section">
      <h2 class="section-title">ค้นหาโรงแรม</h2>
      <div class="widget-box">
        <div id="agoda-search-widget" aria-label="กล่องค้นหาโรงแรมจากพาร์ทเนอร์"></div>
        <p class="muted">วางโค้ด Agoda/Booking Search Box ที่นี่เมื่อได้รับจาก Partner Portal</p>
        <form class="search-form" role="search" aria-label="ค้นหาโรงแรมจำลอง">
          <input type="text" placeholder="ปลายทาง เช่น เชียงใหม่" aria-label="ปลายทาง">
          <input type="date" aria-label="เช็คอิน">
          <input type="date" aria-label="เช็คเอาท์">
          <button type="button" class="btn btn-primary">ค้นหา</button>
        </form>
        <p class="note">* ระบบค้นหาจะใช้งานได้จริงเมื่อ Partner อนุมัติ</p>
      </div>
    </section>

    <!-- ปลายทางยอดนิยม (ไทย) -->
    <section class="section">
      <h2 class="section-title">ปลายทางยอดนิยม</h2>
      <p class="section-sub">สำรวจโรงแรมและดีลพิเศษในเมืองท่องเที่ยวยอดนิยมของไทย</p>
      <div class="destinations">
        <a class="btn" href="bangkok.html">กรุงเทพฯ</a>
        <a class="btn" href="chiangmai.html">เชียงใหม่</a>
        <a class="btn" href="pattaya.html">พัทยา</a>
        <a class="btn" href="phuket.html">ภูเก็ต</a>
        <a class="btn" href="krabi.html">กระบี่</a>
        <a class="btn" href="huahin.html">หัวหิน</a>
      </div>
    </section>

    <!-- เมืองยอดฮิตต่างประเทศ -->
    <section class="section">
      <h2 class="section-title">เมืองยอดฮิตในต่างประเทศ</h2>
      <p class="section-sub">สำรวจโรงแรมและดีลพิเศษในเมืองท่องเที่ยวยอดนิยมในต่างประเทศ</p>
      <div class="destinations">
        <a class="btn" href="tokyo.html">โตเกียว</a>
        <a class="btn" href="seoul.html">โซล</a>
        <a class="btn" href="singapore.html">สิงคโปร์</a>
        <a class="btn" href="hongkong.html">ฮ่องกง</a>
        <a class="btn" href="london.html">ลอนดอน</a>
        <a class="btn" href="paris.html">ปารีส</a>
      </div>
    </section>
  </main>

  <!-- โหลดส่วนท้ายจากไฟล์ include -->
  <div id="footer"></div>

  <!-- สคริปต์โหลด header/footer (+ กันเคสตั้งชื่อไฟล์ไม่มี .html) -->
  <script>
    async function tryFetch(url) {
      try {
        const res = await fetch(url, { cache: "no-store" });
        if (!res.ok) throw new Error(res.status);
        return await res.text();
      } catch (e) {
        return null;
      }
    }

    async function loadPart(id, preferred, fallback) {
      const el = document.getElementById(id);
      if (!el) return;
      const html = await tryFetch(preferred) ?? await tryFetch(fallback);
      if (html) {
        el.innerHTML = html;

        // เมื่อโหลด header เสร็จ: ตั้ง dropdown ภาษา + ไฮไลต์เมนูปัจจุบัน
        if (id === 'header') {
          const btn = el.querySelector('.lang-btn');
          const menu = el.querySelector('.lang-menu');
          if (btn && menu) {
            btn.addEventListener('click', () => {
              const open = menu.classList.toggle('open');
              btn.setAttribute('aria-expanded', open ? 'true' : 'false');
            });
            document.addEventListener('click', (e) => {
              if (!e.target.closest('.lang')) {
                menu.classList.remove('open');
                btn.setAttribute('aria-expanded','false');
              }
            });
          }
          const links = el.querySelectorAll('.main-nav a[href]');
          links.forEach(a => {
            const href = a.getAttribute('href');
            if (location.pathname.endsWith(href) ||
                (location.pathname.endsWith('/') && href === 'index.html')) {
              a.setAttribute('aria-current', 'page');
            }
          });
        }
      } else {
        console.warn('ไม่พบไฟล์ส่วนกลาง:', preferred, 'หรือ', fallback);
      }
    }

    // ถ้าคุณสร้างไฟล์ชื่อ "header" / "footer" (ไม่มี .html) ก็จะพยายามโหลดชื่อนั้นก่อน
    loadPart('header', 'header.html', 'header');
    loadPart('footer', 'footer.html', 'footer');
  </script>
</body>
</html>
