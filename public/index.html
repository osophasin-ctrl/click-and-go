<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Click & Go ‚Äì ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏£‡∏≤‡∏Ñ‡∏≤‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏° ‡∏à‡∏≠‡∏á‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</title>
  <meta name="description" content="Click & Go ‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏£‡∏≤‡∏Ñ‡∏≤‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢ OTA ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏à‡∏≠‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®" />
  <link rel="icon" href="favicon.ico" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_green.css">
  <style>
    .mock-wrap{ max-width:1030px; width:100%; margin:0 auto; }
    .mock-box{ width:100%; background:#fff; border:1px solid #e5e7eb; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,.08); padding:16px; display:flex; flex-direction:column; justify-content:center; }
    .mock-title{ margin:0 0 6px; font-weight:800; font-size:22px; }
    .mock-sub{ margin:0 0 12px; color:#666; }
    .mock-row{ display:grid; gap:10px; align-items:center; grid-template-columns:1fr 1fr; }
    .full-row{ grid-column:1 / -1; }
    .mock-input, .guest-input, .mock-btn{ height:44px; border:1px solid #d7d7d7; border-radius:8px; padding:0 12px; background:#fff; font-size:15px; }
    .mock-input{ width:100%; } .guest-input{ text-align:left; cursor:pointer; }
    .mock-btn{ background:#0ea5a0; color:#fff; border:0; cursor:pointer; font-weight:700; } .mock-btn:active{ transform:translateY(1px); }
    .btn-wide{ width:100%; }
    .field{ position:relative; } .field-label{ position:absolute; left:12px; top:6px; font-size:12px; color:#6b7280; pointer-events:none; }
    .has-label .mock-input,.has-label .flatpickr-input{ height:56px; padding-top:18px; }

    /* Suggestion */
    .suggest-wrap{ position:relative; }
    .suggest-panel{
      position:absolute; left:0; right:0; top:calc(100% + 4px);
      background:#fff; border:1px solid #ddd; border-radius:10px;
      box-shadow:0 8px 20px rgba(0,0,0,.08); max-height:260px; overflow:auto;
      z-index: 9999; display:none;
    }
    .suggest-group{ padding:8px 12px; font-weight:700; color:#6b7280; background:#fafafa; border-top:1px solid #f3f4f6; }
    .suggest-item{ display:flex; justify-content:space-between; align-items:center; gap:10px; padding:10px 12px; cursor:pointer; }
    .suggest-item:hover{ background:#f6f6f6; }
    .s-label{ font-weight:600; } .s-sub{ color:#777; font-size:13px; }

    /* Modal */
    .modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.35); display:none; z-index:999; }
    .modal{ position:fixed; left:50%; top:50%; transform:translate(-50%,-50%); background:#fff; border-radius:12px; width:min(92vw,420px); box-shadow:0 12px 24px rgba(0,0,0,.2); z-index:1000; display:none; }
    .modal-header,.modal-footer{ padding:14px 16px; } .modal-header{ border-bottom:1px solid #eee; display:flex; justify-content:space-between; align-items:center; }
    .modal-title{ font-weight:700; font-size:18px; } .modal-body{ padding:10px 16px 0 16px; }
    .row-ctrl{ display:flex; align-items:center; justify-content:space-between; padding:10px 0; } .row-ctrl + .row-ctrl{ border-top:1px dashed #eee; }
    .label-wrap{ display:flex; flex-direction:column; gap:2px; } .label-wrap small{ color:#666; }
    .counter{ display:flex; align-items:center; gap:10px; } .btn-ctrl{ width:36px; height:36px; border-radius:50%; border:1px solid #ccc; background:#fff; font-size:18px; cursor:pointer; }
    .count{ min-width:20px; text-align:center; font-weight:700; }
    .btn-outline{ border:1px solid #bbb; background:#fff; color:#333; border-radius:8px; padding:8px 14px; } .btn-primary{ border:0; background:#0ea5a0; color:#fff; border-radius:8px; padding:8px 14px; }
    @media (max-width:640px){ .mock-row{ grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="inner">
      <a href="index.html" class="brand"><img src="logo.png" alt="" width="40" height="40"/><span class="brand-text">Click & Go</span></a>
      <nav class="main-nav"><a href="index.html" aria-current="page">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a><a href="deals.html">‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</a>
        <div class="lang"><button class="lang-btn">‡∏†‡∏≤‡∏©‡∏≤ ‚ñæ</button><div class="lang-menu"><a href="#" aria-current="true">‡πÑ‡∏ó‡∏¢</a><a href="/en/index.html">English</a></div></div>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="hero"><img class="hero-img" src="hero-bg.jpg" alt="Click & Go Thailand"></section>

    <section style="margin:24px 0">
      <h2 class="section-title">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°</h2>
      <div class="mock-wrap"><div class="mock-box">
        <h3 class="mock-title">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡∏µ‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</h3>
        <p class="mock-sub">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏° ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ‡∏£‡∏∞‡∏ö‡∏∏‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</p>

        <form id="cgForm" class="mock-row" method="GET" action="search.html" autocomplete="off">
          <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏°‡∏∑‡∏≠‡∏á -->
          <div class="suggest-wrap">
            <input type="text" id="cityInput" class="mock-input" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á..." aria-label="‡πÄ‡∏°‡∏∑‡∏≠‡∏á">
            <div id="cityPanel" class="suggest-panel" role="listbox" aria-label="‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏°‡∏∑‡∏≠‡∏á"></div>
          </div>
          <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏° -->
          <div class="suggest-wrap">
            <input type="text" id="hotelInput" class="mock-input" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°..." aria-label="‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°">
            <div id="hotelPanel" class="suggest-panel" role="listbox" aria-label="‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°"></div>
          </div>

          <div class="field has-label"><span class="field-label">‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô</span><input type="text" id="ci" name="checkin" class="mock-input" readonly></div>
          <div class="field has-label"><span class="field-label">‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏≠‡∏≤‡∏ó‡πå</span><input type="text" id="co" name="checkout" class="mock-input" readonly></div>
          <button type="button" id="guestBtn" class="guest-input full-row">1 ‡∏´‡πâ‡∏≠‡∏á, 2 ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà, 0 ‡πÄ‡∏î‡πá‡∏Å</button>
          <button type="submit" class="mock-btn btn-wide full-row">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>

          <!-- hidden ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á -->
          <input type="hidden" id="rooms"   name="rooms"   value="1">
          <input type="hidden" id="adults"  name="adults"  value="2">
          <input type="hidden" id="children"name="children"value="0">
          <input type="hidden"              name="lang"    value="th-th">
          <input type="hidden" id="cityId"  name="cityId"  value="">
          <input type="hidden" id="hotelId" name="hotelId" value="">
          <input type="hidden" id="dest"    name="q"       value="">
        </form>
      </div></div>
    </section>

    <!-- ‡πÑ‡∏ó‡∏¢ -->
    <section>
      <h2 class="section-title">‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢</h2>
      <div class="city-grid">
        <a class="city-card" href="#" data-q="‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø"><figure><img src="bangkok-tile.webp" alt="‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø"><figcaption>‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø</figcaption></figure></a>
        <a class="city-card" href="#" data-q="‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà"><figure><img src="chiangmai-tile.webp" alt="‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà"><figcaption>‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà</figcaption></figure></a>
        <a class="city-card" href="#" data-q="‡∏û‡∏±‡∏ó‡∏¢‡∏≤"><figure><img src="pattaya-tile.webp" alt="‡∏û‡∏±‡∏ó‡∏¢‡∏≤"><figcaption>‡∏û‡∏±‡∏ó‡∏¢‡∏≤</figcaption></figure></a>
        <a class="city-card" href="#" data-q="‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï"><figure><img src="phuket-tile.webp" alt="‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï"><figcaption>‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï</figcaption></figure></a>
        <a class="city-card" href="#" data-q="‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà"><figure><img src="krabi-tile.webp" alt="‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà"><figcaption>‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà</figcaption></figure></a>
        <a class="city-card" href="#" data-q="‡∏´‡∏±‡∏ß‡∏´‡∏¥‡∏ô"><figure><img src="huahin-tile.webp" alt="‡∏´‡∏±‡∏ß‡∏´‡∏¥‡∏ô"><figcaption>‡∏´‡∏±‡∏ß‡∏´‡∏¥‡∏ô</figcaption></figure></a>
      </div>
    </section>

    <!-- ‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏® -->
    <section>
      <h2 class="section-title">‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï‡πÉ‡∏ô‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®</h2>
      <div class="city-grid">
        <a class="city-card" href="#" data-q="‡πÇ‡∏ï‡πÄ‡∏Å‡∏µ‡∏¢‡∏ß"><figure><img src="tokyo-tile.webp" alt="‡πÇ‡∏ï‡πÄ‡∏Å‡∏µ‡∏¢‡∏ß"><figcaption>‡πÇ‡∏ï‡πÄ‡∏Å‡∏µ‡∏¢‡∏ß</figcaption></figure></a>
        <a class="city-card" href="#" data-q="‡πÇ‡∏ã‡∏•"><figure><img src="seoul-tile.webp" alt="‡πÇ‡∏ã‡∏•"><figcaption>‡πÇ‡∏ã‡∏•</figcaption></figure></a>
        <a class="city-card" href="#" data-q="‡∏™‡∏¥‡∏á‡∏Ñ‡πÇ‡∏õ‡∏£‡πå"><figure><img src="singapore-tile.webp" alt="‡∏™‡∏¥‡∏á‡∏Ñ‡πÇ‡∏õ‡∏£‡πå"><figcaption>‡∏™‡∏¥‡∏á‡∏Ñ‡πÇ‡∏õ‡∏£‡πå</figcaption></figure></a>
        <a class="city-card" href="#" data-q="‡∏Æ‡πà‡∏≠‡∏á‡∏Å‡∏á"><figure><img src="hongkong-tile.webp" alt="‡∏Æ‡πà‡∏≠‡∏á‡∏Å‡∏á"><figcaption>‡∏Æ‡πà‡∏≠‡∏á‡∏Å‡∏á</figcaption></figure></a>
        <a class="city-card" href="#" data-q="‡∏•‡∏≠‡∏ô‡∏î‡∏≠‡∏ô"><figure><img src="london-tile.webp" alt="‡∏•‡∏≠‡∏ô‡∏î‡∏≠‡∏ô"><figcaption>‡∏•‡∏≠‡∏ô‡∏î‡∏≠‡∏ô</figcaption></figure></a>
        <a class="city-card" href="#" data-q="‡∏õ‡∏≤‡∏£‡∏µ‡∏™"><figure><img src="paris-tile.webp" alt="‡∏õ‡∏≤‡∏£‡∏µ‡∏™"><figcaption>‡∏õ‡∏≤‡∏£‡∏µ‡∏™</figcaption></figure></a>
      </div>
    </section>

    <section>
      <h2 class="section-title">‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á Click & Go</h2>
      <div class="features">
        <div class="feature"><h3>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</h3><p>‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÇ‡∏•‡∏Å ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå</p></div>
        <div class="feature"><h3>‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏¢‡∏∏‡πà‡∏á‡∏¢‡∏≤‡∏Å</h3><p>‡∏Å‡∏î‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°‡∏Ç‡∏≠‡∏á‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p></div>
        <div class="feature"><h3>‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</h3><p>‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ ‡πÅ‡∏ó‡πá‡∏ö‡πÄ‡∏•‡πá‡∏ï ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</p></div>
      </div>
    </section>
  </main>

  <!-- Guest Modal -->
  <div id="guestBackdrop" class="modal-backdrop" aria-hidden="true"></div>
  <div id="guestModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="guestTitle">
    <div class="modal-header"><div id="guestTitle" class="modal-title">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å</div><button type="button" class="btn-outline" id="btnCloseX">√ó</button></div>
    <div class="modal-body">
      <div class="row-ctrl"><div class="label-wrap"><strong>‡∏´‡πâ‡∏≠‡∏á</strong><small>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å</small></div>
        <div class="counter"><button class="btn-ctrl" data-type="rooms" data-op="minus">‚àí</button><span class="count" id="roomsCount">1</span><button class="btn-ctrl" data-type="rooms" data-op="plus">+</button></div></div>
      <div class="row-ctrl"><div class="label-wrap"><strong>‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà</strong><small>‡∏≠‡∏≤‡∏¢‡∏∏ 18 ‡∏õ‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ</small></div>
        <div class="counter"><button class="btn-ctrl" data-type="adults" data-op="minus">‚àí</button><span class="count" id="adultsCount">2</span><button class="btn-ctrl" data-type="adults" data-op="plus">+</button></div></div>
      <div class="row-ctrl"><div class="label-wrap"><strong>‡πÄ‡∏î‡πá‡∏Å</strong><small>‡∏≠‡∏≤‡∏¢‡∏∏ 0‚Äì17 ‡∏õ‡∏µ</small></div>
        <div class="counter"><button class="btn-ctrl" data-type="children" data-op="minus">‚àí</button><span class="count" id="childrenCount">0</span><button class="btn-ctrl" data-type="children" data-op="plus">+</button></div></div>
    </div>
    <div class="modal-footer"><button class="btn-outline" id="btnCancel">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button><button class="btn-primary" id="btnSaveGuests">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button></div>
  </div>

  <footer class="site-footer"><div class="container" style="text-align:center">
    <div class="footer-links">
      <a href="privacy.html">Privacy</a> ¬∑ <a href="terms.html">Terms</a> ¬∑
      <a href="affiliate.html">Affiliate Disclosure</a> ¬∑ <a href="about.html">About us</a> ¬∑
      <a href="contact.html">Contact</a> ¬∑ <a href="https://web.facebook.com/clickandgothailand" target="_blank" rel="nofollow noopener">Facebook</a>
    </div></div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/th.js"></script>

  <script>
  // ‡πÄ‡∏°‡∏ô‡∏π‡∏†‡∏≤‡∏©‡∏≤
  (function(){
    const btn=document.querySelector('.lang-btn'),menu=document.querySelector('.lang-menu');
    if(!btn||!menu) return;
    function closeM(){menu.classList.remove('open');btn.setAttribute('aria-expanded','false');}
    btn.addEventListener('click',e=>{e.stopPropagation();const o=menu.classList.toggle('open');btn.setAttribute('aria-expanded',String(o));});
    document.addEventListener('click',closeM);
    document.addEventListener('keydown',e=>{if(e.key==='Escape') closeM();});
  })();
  </script>

  <!-- ===== Autocomplete: ‡πÄ‡∏°‡∏∑‡∏≠‡∏á + ‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏° (‡πÅ‡∏¢‡∏Å‡∏Å‡∏•‡πà‡∏≠‡∏á) ===== -->
  <script>
  (function(){
    // ---------- helpers ----------
    const esc = s => (s||'').replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[m]));
    const show = el => el.style.display='block';
    const hide = el => { el.style.display='none'; el.innerHTML=''; };

    function bindItems(panel, onPick){
      panel.querySelectorAll('.suggest-item').forEach(el=>{
        el.addEventListener('mousedown',ev=>{
          ev.preventDefault();
          const id   = el.getAttribute('data-id')||'';
          const text = el.getAttribute('data-label')||'';
          onPick(id, text);
          hide(panel);
        });
      });
    }

    async function fetchJSON(url, signal){
      const res = await fetch(url, {signal, cache:'no-store'});
      if(!res.ok) throw new Error('HTTP '+res.status);
      return res.json();
    }

    // ---------- City ----------
    (function(){
      const input = document.getElementById('cityInput');
      const panel = document.getElementById('cityPanel');
      const cityId = document.getElementById('cityId');
      if(!input||!panel) return;

      let t=null, aborter=null;
      input.addEventListener('input', ()=>{
        const q=(input.value||'').trim();
        cityId.value='';
        if(t) clearTimeout(t);
        if(!q){ hide(panel); return; }

        panel.innerHTML = `<div class="suggest-group">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...</div>`;
        show(panel);

        t=setTimeout(async ()=>{
          aborter?.abort(); aborter=new AbortController();
          try{
            const u=encodeURIComponent(q);
            const data = await fetchJSON(`/api/city-suggest?q=${u}&lang=th-th&limit=30`, aborter.signal);
            const items = (data && data.ok && Array.isArray(data.items)) ? data.items : [];
            panel.innerHTML = items.length
              ? (`<div class="suggest-group">‡πÄ‡∏°‡∏∑‡∏≠‡∏á</div>` + items.map(it => `
                   <div class="suggest-item" data-id="${esc(it.city_id)}" data-label="${esc(it.label)}">
                     <div><div class="s-label">${esc(it.label)}</div><div class="s-sub">‡πÄ‡∏°‡∏∑‡∏≠‡∏á</div></div>
                     <div class="s-sub">‡πÄ‡∏°‡∏∑‡∏≠‡∏á</div>
                   </div>`).join(''))
              : `<div class="suggest-item"><div class="s-label">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</div><div class="s-sub">‡∏•‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏´‡πâ‡∏¢‡∏≤‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô</div></div>`;
            show(panel);
            bindItems(panel, (id, text)=>{ input.value=text; cityId.value=id; });
          }catch(_){ hide(panel); }
        },200);
      });

      document.addEventListener('click',e=>{ if(!panel.contains(e.target) && e.target!==input) hide(panel); });
    })();

    // ---------- Hotel ----------
    (function(){
      const input = document.getElementById('hotelInput');
      const panel = document.getElementById('hotelPanel');
      const hotelId = document.getElementById('hotelId');
      if(!input||!panel) return;

      let t=null, aborter=null;
      input.addEventListener('input', ()=>{
        const q=(input.value||'').trim();
        hotelId.value='';
        if(t) clearTimeout(t);
        if(!q){ hide(panel); return; }

        panel.innerHTML = `<div class="suggest-group">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...</div>`;
        show(panel);

        t=setTimeout(async ()=>{
          aborter?.abort(); aborter=new AbortController();
          try{
            const u=encodeURIComponent(q);
            const data = await fetchJSON(`/api/hotel-search?q=${u}&lang=th&limit=30`, aborter.signal);
            const items = (data && data.ok && Array.isArray(data.items)) ? data.items : [];
            panel.innerHTML = items.length
              ? (`<div class="suggest-group">‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°</div>` + items.map(it => `
                   <div class="suggest-item" data-id="${esc(it.hotel_id)}" data-label="${esc(it.label)}">
                     <div><div class="s-label">${esc(it.label)}</div><div class="s-sub">‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°</div></div>
                     <div class="s-sub">‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°</div>
                   </div>`).join(''))
              : `<div class="suggest-item"><div class="s-label">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</div><div class="s-sub">‡∏•‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏´‡πâ‡∏¢‡∏≤‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô</div></div>`;
            show(panel);
            bindItems(panel, (id, text)=>{ input.value=text; hotelId.value=id; });
          }catch(_){ hide(panel); }
        },200);
      });

      document.addEventListener('click',e=>{ if(!panel.contains(e.target) && e.target!==input) hide(panel); });
    })();
  })();
  </script>

  <script>
  // ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà + ‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å + ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏° + ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏°‡∏∑‡∏≠‡∏á
  (function(){
    const ONE=86400000,
          ci=document.getElementById('ci'),
          co=document.getElementById('co');
    const fmtLocal=(d)=>{const p=n=>String(n).padStart(2,'0');return d.getFullYear()+'-'+p(d.getMonth()+1)+'-'+p(d.getDate());};
    const today=new Date(),tom=new Date(Date.now()+ONE);
    let inP=null,outP=null;

    if(window.flatpickr){
      inP=flatpickr("#ci",{locale:'th',dateFormat:"Y-m-d",altInput:true,altFormat:"j M Y",altInputClass:"mock-input",allowInput:false,minDate:"today",
        onChange(d){if(d[0]){const n=new Date(d[0].getTime()+ONE);outP.set('minDate',n);if(!outP.selectedDates[0]||outP.selectedDates[0]<=d[0])outP.setDate(n,true);}}
      });
      outP=flatpickr("#co",{locale:'th',dateFormat:"Y-m-d",altInput:true,altFormat:"j M Y",altInputClass:"mock-input",allowInput:false,minDate:tom});
      inP.setDate(today,true); outP.setDate(tom,true);
    }else{
      ci.removeAttribute('readonly'); co.removeAttribute('readonly');
      ci.type='date'; co.type='date';
      ci.value=fmtLocal(today); ci.min=fmtLocal(today);
      co.value=fmtLocal(tom);   co.min=fmtLocal(tom);
      ci.addEventListener('change',()=>{const a=new Date(ci.value||fmtLocal(today)),n=new Date(a.getTime()+ONE);if(!co.value||new Date(co.value)<=a){co.value=fmtLocal(n);co.min=fmtLocal(n);}});
    }

    let rooms=1,adults=2,children=0;
    const btn=document.getElementById('guestBtn'),
          roomsC=document.getElementById('roomsCount'),
          adultsC=document.getElementById('adultsCount'),
          childrenC=document.getElementById('childrenCount'),
          hR=document.getElementById('rooms'),
          hA=document.getElementById('adults'),
          hC=document.getElementById('children'),
          modal=document.getElementById('guestModal'),
          backdrop=document.getElementById('guestBackdrop');
    function open(){roomsC.textContent=rooms;adultsC.textContent=adults;childrenC.textContent=children;modal.style.display='block';backdrop.style.display='block';}
    function close(){modal.style.display='none';backdrop.style.display='none';}
    function upd(){btn.textContent=`${rooms} ‡∏´‡πâ‡∏≠‡∏á, ${adults} ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà, ${children} ‡πÄ‡∏î‡πá‡∏Å`; }
    upd();
    btn.addEventListener('click',open);
    document.getElementById('btnCloseX').addEventListener('click',close);
    document.getElementById('btnCancel').addEventListener('click',close);
    backdrop.addEventListener('click',close);
    document.querySelectorAll('.btn-ctrl').forEach(b=>{
      b.addEventListener('click',()=>{
        const t=b.getAttribute('data-type'),op=b.getAttribute('data-op');
        let v=0,min=0,max=10;
        if(t==='rooms'){v=rooms;min=1}
        if(t==='adults'){v=adults;min=1}
        if(t==='children'){v=children;min=0}
        if(op==='plus'&&v<max)v++;
        if(op==='minus'&&v>min)v--;
        if(t==='rooms'){rooms=v;roomsC.textContent=v}
        if(t==='adults'){adults=v;adultsC.textContent=v}
        if(t==='children'){children=v;childrenC.textContent=v}
      });
    });
    document.getElementById('btnSaveGuests').addEventListener('click',()=>{hR.value=rooms;hA.value=adults;hC.value=children;upd();close();});

    // üîß ‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°: ‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ù‡∏±‡πà‡∏á "‡πÄ‡∏°‡∏∑‡∏≠‡∏á" ‚Äì ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡πÉ‡∏´‡πâ resolve cityId ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
    document.getElementById('cgForm').addEventListener('submit', async (e)=>{
      e.preventDefault();

      const qHidden  = document.getElementById('dest');
      const cityEl   = document.getElementById('cityInput');
      const hotelEl  = document.getElementById('hotelInput');
      const cityIdEl = document.getElementById('cityId');
      const hotelIdEl= document.getElementById('hotelId');

      const rooms = document.getElementById('rooms').value || 1;
      const adults= document.getElementById('adults').value|| 2;
      const children=document.getElementById('children').value||0;

      const norm = (s)=>s.replace(/‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£/g,'‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û').replace(/‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø/g,'‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û');

      let q = '';
      let cityId  = cityIdEl.value || '';
      const hotelId = hotelIdEl.value || '';
      const cityName  = norm((cityEl?.value||'').trim());
      const hotelName = (hotelEl?.value||'').trim();

      if (hotelId || hotelName) {
        // ‡πÇ‡∏´‡∏°‡∏î‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏° (‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏Å)
        q = hotelName || '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û';
      } else {
        // ‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏°‡∏∑‡∏≠‡∏á
        let name = cityName || '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û';
        if (!cityId && name) {
          try {
            const res  = await fetch(`/api/city-suggest?q=${encodeURIComponent(name)}&lang=th-th&limit=1`, {cache:'no-store'});
            const data = await res.json();
            if (data && data.ok && Array.isArray(data.items) && data.items[0]) {
              cityId = data.items[0].city_id || '';
              name   = data.items[0].label || name;
            }
          } catch {}
        }
        cityIdEl.value = cityId;
        q = name;
      }

      qHidden.value = q;

      // redirect ‡πÑ‡∏õ search.html ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå
      const params = new URLSearchParams({
        q,
        checkin: ci.value,
        checkout: co.value,
        rooms, adults, children,
        lang: 'th-th'
      });
      if (cityId)  params.set('cityId', cityId);
      if (hotelId) params.set('hotelId', hotelId);

      location.href = 'search.html?' + params.toString();
    });

    // ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏°‡∏∑‡∏≠‡∏á -> ‡πÑ‡∏õ search.html ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡πà‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
    function fmtLocalStr(d){const p=n=>String(n).padStart(2,'0');return d.getFullYear()+'-'+p(d.getMonth()+1)+'-'+p(d.getDate());}
    document.querySelectorAll('.city-card[data-q]').forEach(a=>{
      a.addEventListener('click',ev=>{
        ev.preventDefault();
        let q=a.getAttribute('data-q')||'';
        q=q.replace(/‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£/g,'‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û').replace(/‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø/g,'‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û');

        const inP=window.flatpickr && document.querySelector('#ci')._flatpickr;
        const outP=window.flatpickr && document.querySelector('#co')._flatpickr;
        let ci = inP && inP.selectedDates[0] ? inP.formatDate(inP.selectedDates[0],'Y-m-d') : fmtLocalStr(new Date());
        let co = outP && outP.selectedDates[0] ? outP.formatDate(outP.selectedDates[0],'Y-m-d') : fmtLocalStr(new Date(Date.now()+86400000));

        const ciD=new Date(ci+'T00:00:00'), coD=new Date(co+'T00:00:00');
        if(coD<=ciD) co=fmtLocalStr(new Date(ciD.getTime()+86400000));

        const rooms=document.getElementById('rooms').value||1;
        const adults=document.getElementById('adults').value||2;
        const children=document.getElementById('children').value||0;

        const sp=new URLSearchParams({q,checkin:ci,checkout:co,rooms,adults,children,lang:'th-th'});
        location.href='search.html?'+sp.toString();
      });
    });
  })();
  </script>
</body>
</html>
